# Example configuration for large notebases with optimized query expansion

[server]
name = "ragdocs"
version = "0.1.0"

[indexing]
documents_path = "./docs"
index_path = "./index"
chunk_size = 512
chunk_overlap = 50
parent_chunk_size = 2048
parent_retrieval_enabled = false

[search]
# Weight for semantic (vector) search
semantic_weight = 1.0
# Weight for keyword (BM25) search
keyword_weight = 1.0
# Recency bias for document ranking
recency_bias = 0.5
# RRF k constant
rrf_k_constant = 60

# Query expansion optimization settings
# Set to false to completely disable query expansion (fastest)
query_expansion_enabled = true
# Reduce max terms from 10000 to 2000 (reduces build time significantly)
query_expansion_max_terms = 2000
# Only embed terms that appear at least 3 times (filters noise)
query_expansion_min_frequency = 3

# Deduplication settings
dedup_enabled = false
dedup_similarity_threshold = 0.85

# MMR (diversity) settings
mmr_enabled = false
mmr_lambda = 0.7

# Re-ranking settings (optional, increases query time)
rerank_enabled = false
rerank_model = "cross-encoder/ms-marco-MiniLM-L-6-v2"
rerank_top_n = 10

[llm]
embedding_model = "BAAI/bge-small-en-v1.5"
